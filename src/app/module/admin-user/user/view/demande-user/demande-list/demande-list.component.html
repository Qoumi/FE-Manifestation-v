<div class="main-content">
<main>

  <h2 class="dash-title">les demandes qui en cours de traitement</h2>

  <section class="recent">
    <div class="activity-grid">
      <div class="activity-card">
        <div class="table-responsive ">
          <table>
            <thead>
            <tr >
              <th>Intitulé de la manifestation</th>
              <th>La reference de la demande</th>
              <th>Date de creation</th>
              <th>etat</th>
              <th>option</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let c of demandeService.demandes" >
              <!--<tr *ngFor=" let c of hores | filter:userFilter.name">
                <td *ngIf="(hores | filter: userFilter.name).length === 0">No matching elements</td>
                <td>{{c.name}}</td>
                -->
              <td>{{c.manifestation.name}}</td>
              <td class="td-team">
                <div>{{c.ref}}</div>
              </td>
              <td>{{c.createdAt}}</td>
              <td [(ngModel)]="etat">{{c.etat}}</td>
              <td>
                <button class="btn btn-dark p-1" (click)="showDetails(c.ref)"><div>details</div></button>
              </td>
            </tr>

            <!-- <span class="badge warning">reffus</span> -->

            </tbody>
          </table>

        </div>
      </div>
    </div>
  </section>

</main>
  <div class="det" *ngIf="details==true">
    <div class="row m-3">
      <div class="quiter"><i  class="fa fa-home" (click)="unshowDemande()"></i></div>
    </div>
    <div class="row m-3">
      <div class="col p-2"><span class="text-danger">La demande:</span></div>
      <div class="col p-2">{{demandeService.demande.manifestation.name}}</div>
    </div>
    <div class="row m-3 ">
      <div class="col p-1"><span class="text-danger">Reference:</span></div>
      <div class="col p-1">{{demandeService.demande.ref}}</div>
    </div>
    <div class="row m-3">
      <div class="col p-1 "> <span class="text-danger">Status:</span></div>
      <div class="col p-1">{{demandeService.demande.etat}}</div>
    </div>
    <div class="row m-3">

      <div class="col p-1 m-2">
        <button class="btn btn-warning p-2 m-2" *ngIf="demandeService.demande.etat=='la demande annulé'"  (click)="edit(ref)">modefier</button></div>
      <div class="col p-1 m-2">
        <button class="btn btn-success p-2 m-2" *ngIf="demandeService.demande.etat=='la demande accept'||demandeService.demande.etat=='la demande annulé' " (click)="detail(ref)">details</button>
        <button class="btn btn-danger p-2 m-2" *ngIf="demandeService.demande.etat=='en cours de traitement'" (click)="annule()">annuler</button></div>
    </div>
  </div>

</div>
